class chatEngine{constructor(e,t){this.chatBoxId=e,this.userEmail=t,this.socket=io.connect("http://localhost:5000")}connectionHandler(){const e=this;this.socket.on("connect",(function(){console.log("Connection established using sockets..."),e.socket.emit("join_room",{user_email:e.userEmail,chatroom:"closer"}),e.socket.on("user_joined",(function(e){console.log(e)}))})),$("#new-msg-form").submit((function(t){t.preventDefault();let s=$("#newMsgText").val();""!=s&&(e.socket.emit("send-msg",{message:s,userEmail:e.userEmail,chatroom:"closer"}),$("#newMsgText").val(""))})),e.socket.on("receive-msg",(function(t){let s="f-text";t.userEmail==e.userEmail&&(s="u-text");let o=`<li class='${s}'><p>${t.message}</p></li>`;$(".display-msgs > ul").append(o)})),$(".remove-chat-box").click((function(t){t.preventDefault(),e.socket.disconnect(!0),$(".chat-engine").empty()}))}}